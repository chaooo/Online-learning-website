<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>兄弟学习网-程序员的梦工厂</title>
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="/css/muke.css">
    <!-- 网页标题栏图标 -->
    <link rel="SHORTCUT ICON" href="/img/favicon.ico" />
</head>
<body>
<!-- 引用头部 -->
<div th:replace="parts/head"></div>
<div id="indexPage">
    <!--========================轮播图==============================-->
    <div class="width100 float_l margin_t-405 margin_b40">
        <div class="width_1200 margin_auto">
            <div class="width100 float_l height460 posi_relative">
                <div class="width100 float_l">
                    <div class="focusBox">
                        <ul class="pic">
                            <li>
                                <a href="/course_list.jsp"><img src="/img/index1.jpg" /></a>
                            </li>
                            <li>
                                <a href="/course_list.jsp"><img src="/img/index2.jpg" /></a>
                            </li>
                            <li>
                                <a href="/course_list.jsp"><img src="/img/index3.jpg" /></a>
                            </li>
                            <li>
                                <a href="/course_list.jsp"><img src="/img/index4.jpg" /></a>
                            </li>
                            <li>
                                <a href="/course_list.jsp"><img src="/img/index5.jpg" /></a>
                            </li>
                        </ul>
                        <a class="prev" href="javascript:void(0)"></a>
                        <a class="next" href="javascript:void(0)"></a>
                        <a class="next" href="javascript:void(0)"></a>
                        <a class="next" href="javascript:void(0)"></a>
                        <a class="next" href="javascript:void(0)"></a>
                        <ul class="hd">
                            <li></li>
                            <li></li>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
                    </div>
                </div>
                <div class="width_220 float_l height460 posi_absolute backg_jqian padding_t5 bianshou">
                    <div v-for="direction in courseDirection" v-bind:did="direction.id" v-on:mouseover="directionMouseover($event)" v-on:mouseout="directionMouseout($event)" class="width100 float_l tab_qiehuan">
                        <div class="width100 float_l text_c height64 line_hei64 color_white bianhuabeijing backg_jqian padding_lr20">
                            <div class="width100 float_l text_l height64 line_hei64 color_white border_b_baise fon_siz16">
                                <span>{{direction.name}}</span> <span class="float_r">></span>
                            </div>
                        </div>
                        <div class="width_700 float_l lunbofenlei dis_none img_backg15">
                            <div class="width100 float_l padding40">
                                <div class="width100 float_l margin_b40">
                                    <span class="width100 color_shenred fon_siz16 float_l margin_b20"><!-- 分类目录 -->{{direction.name}}</span>
                                    <ul class="width100 ul_lis float_l">
                                        <li v-for="subject in direction.subjects">
                                            <a href="/course_list.jsp" v:bind:sid="subject.id">{{subject.name}}</a>
                                        </li>
                                        <li>/</li>
                                    </ul>
                                </div>
                                <div v-if="direction.courses&&direction.courses.length>0" class="width100 float_l margin_b40">
                                    <span class="width100 color_shenred fon_siz16 float_l margin_b20">推荐</span>
                                    <ul class="width100 ul_lis float_l">
                                        <li v-for="course in direction.courses" class="width100 float_l margin_b15">
                                            <a  v:bind:cid="course.id">课程 | {{course.name}}
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--========================== 实战推荐 =============================-->
    <div class="width100 float_l margin_b40">
        <div class="width_1200 margin_auto">
            <div class="width100 float_l margin_b20">
                <div class="float_l">
                    <span class="fon_siz16">课程推荐</span>
                </div>
            </div>
            <div class="width100 float_l" id="zymCourse">
                <div v-for="course in latestCourses" v-bind:cid="course.id" class="width_220 height172 float_l margin_r20 border_shadow jingguoxianshi over_pos bianshou">
                    <div class="width100 float_l img_100 z_inx_1">
                        <img v-bind:src="'img/course/'+course.image">
                    </div>
                    <div class="img_backg2 donghua">
                        <span class="margin_t15 float_l ">{{course.name}}</span> <span class="float_l fon_siz12 line_hei16 color_gray margin_t5 posi_relative ">{{course.intro}}</span>
                    </div>
                    <div class="width100 float_l padding_lr20 height48 fon_siz12 line_hei48 z_inx_3 posi_relative backg_white">
                        <span class="float_l color_red">￥{{course.price}}</span> <span class="float_r color_gray"><span>{{course.learn_count}}</span>人在学</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--========================== 免费好课 =============================-->
    <div class="width100 float_l margin_b40">
        <div class="width_1200 margin_auto">
            <div class="width100 float_l margin_b20">
                <div class="float_l">
                    <span class="fon_siz16">免费好课</span>
                </div>
            </div>
            <div class="width100 float_l" id="zymCoursePrice">
                <div v-for="course in freeCourses" v-bind:cid="course.id" class="width_220 height172 float_l margin_r20 border_shadow jingguoxianshi over_pos bianshou">
                    <div class="width100 float_l img_100 z_inx_1">
                        <img v-bind:src="'img/course/'+course.image">
                    </div>
                    <div class="img_backg2 donghua">
                        <span class="margin_t15 float_l ">{{course.name}}</span> <span class="float_l fon_siz12 line_hei16 color_gray margin_t5 posi_relative ">{{course.intro}}</span>
                    </div>
                    <div class="width100 float_l padding_lr20 height48 fon_siz12 line_hei48 z_inx_3 posi_relative backg_white">
                        <span class="float_l color_red">￥{{course.price}}</span> <span class="float_r color_gray"><span>{{course.learn_count}}</span>人在学</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--========================== Html-前端工程师 =============================-->
    <div class="width100 float_l padding_tb45 backg_qiangray">
        <div class="width_1200 margin_auto">
            <div class=" width_220 height364 float_l img_backg3 margin_r20">
                <div class="width100 float_l padding_lr20 color_white fon_siz32 b_weight700 margin_t10">
                    <span>Html<br>前端工程师
                    </span>
                </div>
                <div class="width100 float_l padding_lr20 color_white fon_siz16 margin_t30 jiantoubianhua bianshou">
                    <a href="/download/HTML5.CHM"><span>API 下载<span class="margin_l5 wobianhua">></span></span></a>
                </div>
                <div class="width100 float_l padding_lr20 color_white fon_siz12 bianshou line_hei26 color_shenred wobeijingguos margin_t120">
                    <a>超文本标记语言 HyperText Markup Language 简称：HTML，是一种标记语言。</a>
                </div>
            </div>
            <div class="width_712 float_l margin_r20" id="htmlCourse">
                <div class=" width100 float_l height172 kaishimeiyou img_backg12 text-center line_hei172 margin_b20">
                    <span class="fon_siz20 color_white b_weight700" style="font-size: 26px;">靡不有初&nbsp;&nbsp;鲜克有终</span>
                </div>
                <!-- 追加html课程 -->
                <div v-for="course in htmlCourses" v-bind:cid="course.id" class="width_217 height172 float_l margin_r20 border_shadow jingguoxianshi over_pos bianshou">
                    <div class="width100 float_l img_100 z_inx_1">
                        <img v-bind:src="'img/course/'+course.image">
                    </div>
                    <div class="img_backg2 donghua">
                        <span class="margin_t15 float_l ">{{course.name}}</span> <span class="float_l fon_siz12 line_hei16 color_gray margin_t5 posi_relative ">{{course.intro}}</span>
                    </div>
                    <div class="width100 float_l padding_lr20 height48 fon_siz12 line_hei48 z_inx_3 posi_relative backg_white">
                        <span class="float_l color_red">￥{{course.price}}</span> <span class="float_r color_gray"><span>{{course.learn_count}}</span>人在学</span>
                    </div>
                </div>
            </div>
            <div class="width_220 height364 float_l backg_white border_shadow" id="htmlCourseScore">
                <!-- 追加htmlCourseScore 课程评分列表，由高到低 -->
                <div v-if="scoreHtmlCourses.length>0"  class="width_220 height172 float_l margin_r20 border_shadow jingguoxianshi over_pos bianshou">
                    <div class="width100 float_l img_100 z_inx_1">
                        <img v-bind:src="'img/course/'+scoreHtmlCourses[0].image">
                    </div>
                    <div class="img_backg2 donghua">
                        <span class="margin_t15 float_l ">{{scoreHtmlCourses[0].name}}</span> <span class="float_l fon_siz12 line_hei16 color_gray margin_t5 posi_relative ">{{scoreHtmlCourses[0].intro}}</span>
                    </div>
                    <div class='width100 float_l padding_lr20 height48 fon_siz12 line_hei48 z_inx_3 posi_relative backg_white'>
                        <span class='float_l color_red'>课程评分：</span>
                        <span class='float_r color_gray'><span>{{scoreHtmlCourses[0].score}}</span></span>
                    </div>
                </div>
                <div class='width100 float_l padding_lr20 dadiv'>
                    <div class='width100 float_l border_t padding_t10'>
                        <ul class='tongli_ys chaochuyincang'>
                            <li  v-for="(course,index) in scoreHtmlCourses" v-if="index>0">
                                <a v-bind:href="'/course?id='+course.id">
                                    <span class='diandian'>.</span>{{course.name}}
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--========================== java-工程师 =============================-->
    <div class="width100 float_l backg_qiangray padding_b45">
        <div class="width_1200 margin_auto">
            <div class=" width_220 height364 float_l img_backg11 margin_r20">
                <div class="width100 float_l padding_lr20 color_white fon_siz32 b_weight700 margin_t10">
                    <span>Java<br>开发工程师
                    </span>
                </div>
                <div class="width100 float_l padding_lr20 color_white fon_siz16 margin_t30 jiantoubianhua bianshou">
                    <a href="/download/JDK_API_1_6_zh_CN.CHM"><span>API 下载<span class="margin_l5 wobianhua">></span></span></a>
                </div>
                <div class="width100 float_l padding_lr20 fon_siz12 bianshou line_hei26 color_blue wobeijingguosa margin_t120">
                    <a>Java是由Sun公司于1995年5月推出的Java面向对象程序设计语言和Java平台的总称。</a>
                </div>
            </div>
            <div class="width_712 float_l margin_r20" id="javaCourse">
                <div class=" width100 float_l height172 kaishimeiyou img_backg10 text-center line_hei172 margin_b20">
                    <span class="fon_siz20 color_white b_weight700" style="font-size: 26px;">不忘初心&nbsp;&nbsp;方得始终</span>
                </div>
                <div v-for="course in javaCourses" v-bind:cid="course.id" class="width_217 height172 float_l margin_r20 border_shadow jingguoxianshi over_pos bianshou">
                    <div class="width100 float_l img_100 z_inx_1">
                        <img v-bind:src="'img/course/'+course.image">
                    </div>
                    <div class="img_backg2 donghua">
                        <span class="margin_t15 float_l ">{{course.name}}</span> <span class="float_l fon_siz12 line_hei16 color_gray margin_t5 posi_relative ">{{course.intro}}</span>
                    </div>
                    <div class="width100 float_l padding_lr20 height48 fon_siz12 line_hei48 z_inx_3 posi_relative backg_white">
                        <span class="float_l color_red">￥{{course.price}}</span> <span class="float_r color_gray"><span>{{course.learn_count}}</span>人在学</span>
                    </div>
                </div>
            </div>
            <div class="width_220 height364 float_l backg_white border_shadow" id="javaCourseScore">
                <!-- 追加javaCourseScore 课程评分列表，由高到低 -->
                <div v-if="scoreJavaCourses.length>0"  class="width_220 height172 float_l margin_r20 border_shadow jingguoxianshi over_pos bianshou">
                    <div class="width100 float_l img_100 z_inx_1">
                        <img v-bind:src="'img/course/'+scoreJavaCourses[0].image">
                    </div>
                    <div class="img_backg2 donghua">
                        <span class="margin_t15 float_l ">{{scoreJavaCourses[0].name}}</span> <span class="float_l fon_siz12 line_hei16 color_gray margin_t5 posi_relative ">{{scoreJavaCourses[0].intro}}</span>
                    </div>
                    <div class='width100 float_l padding_lr20 height48 fon_siz12 line_hei48 z_inx_3 posi_relative backg_white'>
                        <span class='float_l color_red'>课程评分：</span>
                        <span class='float_r color_gray'><span>{{scoreJavaCourses[0].score}}</span></span>
                    </div>
                </div>
                <div class='width100 float_l padding_lr20 dadiv'>
                    <div class='width100 float_l border_t padding_t10'>
                        <ul class='tongli_ys chaochuyincang'>
                            <li  v-for="(course,index) in scoreJavaCourses" v-if="index>0">
                                <a v-bind:href="'/course?id='+course.id">
                                    <span class='diandian'>.</span>{{course.name}}
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--========================== Oracle 工程师 =============================-->
    <div class="width100 float_l backg_qiangray">
        <div class="width100 float_l">
            <div class="width_1200 margin_auto">
                <div class="width100 float_l" id="courseOracle">
                    <div class=" width_220 height172 float_l img_backg14 margin_r20">
                        <div class="width100 float_l padding_lr20 color_white fon_siz32 b_weight700 margin_t10">
                            <span>Oracle<br>DBA
                            </span>
                        </div>
                        <div class="width100 float_l padding_lr20 color_white fon_siz16 margin_t30 jiantoubianhua bianshou">
                            <a href="/download/ORACLE.chm"><span>API 下载<span class="margin_l5 wobianhua">></span></span></a>
                        </div>
                    </div>
                    <div v-for="course in oracleCourses" v-bind:cid="course.id"  class="width_220 height172 float_l margin_r20 border_shadow jingguoxianshi over_pos bianshou">
                        <div class="width100 float_l img_100 z_inx_1">
                            <img v-bind:src="'img/course/'+course.image">
                        </div>
                        <div class="img_backg2 donghua">
                            <span class="margin_t15 float_l ">{{course.name}}</span> <span class="float_l fon_siz12 line_hei16 color_gray margin_t5 posi_relative ">{{course.intro}}</span>
                        </div>
                        <div class="width100 float_l padding_lr20 height48 fon_siz12 line_hei48 z_inx_3 posi_relative backg_white">
                            <span class="float_l color_red">￥{{course.price}}</span> <span class="float_r color_gray"><span>{{course.learn_count}}</span>人在学</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- 引入底部 -->
<div th:replace="parts/footer"></div>

<script type="text/javascript">
 var indexPage = new Vue({
    el: '#indexPage',
    data: {
        courseDirection: [],
        latestCourses: [],//课程推荐
        freeCourses: [],//免费课程
        htmlCourses: [],//html课程
        javaCourses: [],//java课程
        oracleCourses:[],//Oracle课程
        scoreHtmlCourses: [],//html课程评分列表
        scoreJavaCourses: [],//html课程评分列表
    },
    computed: {
        //
        test: function(){
            return "";
        },
    },
    methods: {
    	//加载课程方向
    	loadDirection: function () {
    		var $self = this;
    		$.ajax({
			    url:"http://localhost:7002/direction/all",
			    type:"GET",
			}).done(function(res){
				if(res.code==0 && res.data!=null){
					$self.courseDirection = res.data;
				}
			});
    	},
        //加载课程推荐
        loadLatestCourse: function () {
            var $self = this;
            $.get("http://localhost:7001/course/recommend").done(function(res){
                if(res.code==0 && res.data!=null){
                    $self.latestCourses = res.data.list;
                }
            });
        },
        //加载免费课程
        loadFreeCourse: function () {
            var $self = this;
            $.get("http://localhost:7001/course/free").done(function(res){
                if(res.code==0 && res.data!=null){
                    $self.freeCourses = res.data.list;
                }
            });
        },
        //加载 根据科目ID查找课程
        loadCourseBySubject: function (sid, size, page) {
            var $self = this;
            $.get("http://localhost:7001/course/subject",{
                subject_id: sid,
                size: size?size:4,
                page: page?page:1
            }).done(function(res){
                if(res.code==0 && res.data!=null){
                    if(sid==1){
                        $self.htmlCourses = res.data.list;
                    }else if(sid==14){
                        $self.javaCourses = res.data.list;
                    }else if(sid==27){
                        $self.oracleCourses = res.data.list;
                    }
                }
            });
        },
        //加载评分排序课程
        loadScoreCourse: function (sid) {
            var $self = this;
            $.get("http://localhost:7001/course/score",{subject_id: sid}).done(function(res){
                if(res.code==0 && res.data!=null){
                    if(sid==1){
                        $self.scoreHtmlCourses = res.data.list;
                    }else if(sid==14){
                        $self.scoreJavaCourses = res.data.list;
                    }
                }
            });
        },



        //课程方向鼠标悬浮效果
        directionMouseover: function (event) {
            var el = event.currentTarget;
            $(el).children(".bianhuabeijing").css("background-color","#8a8f93").next().css("display", "block");
            $(el).siblings().children(".bianhuabeijing").css("background-color","#a9aaae").next().css("display", "none");
        },
        directionMouseout: function (event) {
            var el = event.currentTarget;
            $(el).children(".bianhuabeijing").css("background-color","#a9aaae").next().css("display", "none");
        },
    },
    mounted: function () {
        var $self = this;
        //加载课程方向
        $self.loadDirection();
        //加载课程推荐
        $self.loadLatestCourse();
        //加载免费课程
        $self.loadFreeCourse();
        //加载前端课程subject_id,size
        $self.loadCourseBySubject(1,3);
        //加载java课程subject_id,size
        $self.loadCourseBySubject(14,3);
        //加载Oracle课程subject_id,size
        $self.loadCourseBySubject(27,4);
        //加载html评分排序课程
        $self.loadScoreCourse(1);
        //加载java评分排序课程
        $self.loadScoreCourse(14);

        //加载轮播图
        $(".focusBox").slide({
            mainCell: ".pic",
            effect: "left",
            autoPlay: true,
            delayTime: 500
        });
    }
});
</script>
</body>

</html>